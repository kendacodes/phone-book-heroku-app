(this["webpackJsonpphone-book"]=this["webpackJsonpphone-book"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),o=n.n(c),r=n(9),i=n.n(r),s=(n(82),n(25)),u=n(35),d=n.n(u),l="/api/persons",h=function(){return d.a.get(l).then((function(e){return e.data}))},b=function(e){return d.a.post(l,e).then((function(e){return e.data}))},j=function(e,t){return d.a.put("".concat(l,"/").concat(e),t).then((function(e){return e.data}))},m=function(e){return d.a.delete("".concat(l,"/").concat(e)).then((function(e){return e.data}))},f=n(135),p=n(145),O=n(144),x=function(e){var t=e.showFilter,n=e.setshowFilter,c=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}))();return Object(a.jsx)(p.a,{className:c.root,children:Object(a.jsx)(O.a,{id:"outlined-basic",value:t,label:"filter shown with",variant:"outlined",onChange:function(e){n(e.target.value)}})})},g={success:{color:"green",background:"white",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},fail:{color:"red",background:"white",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},v=function(e){var t=e.notification,n=e.success;return console.log(t),console.log(n),null===t?null:n?Object(a.jsx)("div",{className:"success",style:g.success,children:t}):Object(a.jsx)("div",{className:"success",style:g.fail,children:t})},N=n(140),w=n(141),y=n(60),C=n.n(y),k=function(e){var t=e.newName,n=e.newNumber,c=e.addNewName,o=e.handleNameChange,r=e.handleNumberChange,i=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(2),width:"50ch"}},press:{marginLeft:75,extendedIcon:{marginRight:e.spacing(1)}}}}))();return Object(a.jsx)(N.a,{container:!0,spacing:1,"align-items":"center",children:Object(a.jsxs)("form",{onSubmit:c,className:i.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(O.a,{id:"outlined-basic",label:"Name",value:t,onChange:o,className:i.root,variant:"outlined"})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(O.a,{id:"outlined-basic",label:"Number",value:n,onChange:r,className:i.root,variant:"outlined"})}),Object(a.jsx)(N.a,{item:!0,xs:6,children:Object(a.jsxs)(w.a,{variant:"extended",color:"primary","aria-label":"add",className:i.press,type:"submit",children:[Object(a.jsx)(C.a,{className:i.extendedIcon}),"Add Contact"]})})]})})},S=n(139),F=n(143),U=n(142),I=n(146),R=n(61),B=n.n(R),E=function(e){var t=e.persons,n=e.showFilter,c=e.removeEntry,o=Object(f.a)((function(e){return{root:{backgroundColor:e.palette.background.paper}}})),r=n.toUpperCase(),i=t.filter((function(e){return e.name.toUpperCase().includes(r)})),s=o();return i.map((function(e){return Object(a.jsxs)(S.a,{className:s.root,children:[Object(a.jsx)(U.a,{}),Object(a.jsxs)(F.a,{button:!0,children:[Object(a.jsxs)(I.a,{children:[" ",e.name," : ",e.number]}),Object(a.jsx)(B.a,{onClick:function(){return c(e)}})]},e.name)]})}))},A=n(138),z=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(""),i=Object(s.a)(r,2),u=i[0],d=i[1],l=Object(c.useState)(""),O=Object(s.a)(l,2),g=O[0],w=O[1],y=Object(c.useState)(""),C=Object(s.a)(y,2),S=C[0],F=C[1],U=Object(c.useState)(null),I=Object(s.a)(U,2),R=I[0],B=I[1],z=Object(c.useState)(null),D=Object(s.a)(z,2),J=D[0],M=D[1],T=Object(f.a)((function(e){return{root:{flexGrow:1,margin:50},paper:{padding:e.spacing(2),justifyItems:"center",color:e.palette.text.secondary,overflow:"auto",height:450},header1:{padding:e.spacing(2),justifyItems:"center",color:e.palette.text.secondary,overflow:"auto",textAlign:"center"},addFriend:{padding:e.spacing(2),justifyItems:"center",color:e.palette.text.secondary,overflow:"auto",height:650,justifyContent:"center"}}}));Object(c.useEffect)((function(){h().then((function(e){o(e)})).catch((function(e){return G("Could not retrieve data",!1)}))}),[]);var G=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];B(e),M(t),setTimeout((function(){B(null),M(null)}),3e3)},L=T();return Object(a.jsx)(p.a,{className:L.root,children:Object(a.jsxs)(N.a,{container:!0,spacing:2,children:[Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(A.a,{className:L.header1,children:Object(a.jsx)("h2",{children:"Phone Book"})})}),Object(a.jsx)(N.a,{item:!0,xs:6,children:Object(a.jsxs)(A.a,{className:L.addFriend,children:[Object(a.jsx)(A.a,{className:L.header1,children:Object(a.jsx)("h2",{children:"Add a New Contact"})}),Object(a.jsx)(k,{addNewName:function(e){e.preventDefault();var t={name:u,number:g};if(n.some((function(e){return e.name===u}))){var a=n.find((function(e){return e.name===u})),c=Object.assign(a,t);window.confirm("Do you want to update ".concat(u," with number ").concat(g,"?"))&&j(a.id,t).then((function(){o(n.map((function(e){return e.name===u?c:e}))),d(""),w(""),G("User ".concat(u," phone number updated"))})).catch((function(e){G("Update failed. User ".concat(u," has already been removed from the phone book."),!1),o(n.filter((function(e){return e.name!==u})))}))}else n.some((function(e){return e.number===g}))?G("# ".concat(g," is already in the phone book."),!1):""===u||""===g?G("The name and number must not be empty",!1):(b(t).then((function(e){o(n.concat(e)),d(""),w(""),G("User ".concat(u," has been added to the phone book"))})).catch((function(e){return console.log(e.response.data.error),G("Failed to add number. More about error: ".concat(e.response.data.error),!1)})),h().then((function(e){o(e)})).catch((function(e){return G("Could not retrieve data",!1)})))},newName:u,handleNameChange:function(e){d(e.target.value)},handleNumberChange:function(e){w(e.target.value)}})]})}),Object(a.jsx)(N.a,{item:!0,xs:6,children:Object(a.jsxs)(A.a,{className:L.addFriend,children:[Object(a.jsx)(A.a,{className:L.header1,children:Object(a.jsx)("h2",{children:"Numbers"})}),Object(a.jsx)(v,{notification:R,success:J}),Object(a.jsx)(x,{showFilter:S,setshowFilter:F}),Object(a.jsx)(A.a,{className:L.paper,children:Object(a.jsx)(E,{persons:n,showFilter:S,removeEntry:function(e){window.confirm("Remove ".concat(e.name,"?"))&&m(e.id).then((function(){o(n.filter((function(t){return t.id!==e.id}))),G("".concat(e.name," has been removed from the phone book"))})).catch((function(t){G("Removal failed. User ".concat(e.name," has already been removed from the phone book."),!1),h().then((function(e){o(e)})).catch((function(e){return G("Could not retrieve data",!1)}))}))}})})]})})]})})};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root"))},82:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.3da2d72b.chunk.js.map